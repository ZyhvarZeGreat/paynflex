"use client";
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import {
  Sidebar as ShadcnSidebar,
  SidebarContent,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuItem,
  SidebarMenuButton,
  SidebarFooter,
} from "@/components/ui/sidebar";
import { Link } from "react-router";
import { useLocation } from "react-router";
// import React from "react";
import logo from "@/assets/logo-signup.png";
import { LogOut } from "lucide-react";
import { useNavigate } from "react-router-dom";

const menuItems = [
  {
    icon: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.33317 10.8333H8.33317V3.33334H3.33317V10.8333ZM3.33317 16.6667H8.33317V12.5H3.33317V16.6667ZM10 16.6667H15V9.16668H10V16.6667ZM10 3.33334V7.50001H15V3.33334H10Z"
          fill="#4285F4"
        />
      </svg>
    ),
    label: "Dashboard",
    href: "dashboard",
  },
  {
    icon: (
      <svg
        width="18"
        height="14"
        viewBox="0 0 18 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0.498543 11.237C0.498543 10.8076 0.609376 10.4243 0.831043 10.0872C1.05271 9.75016 1.34875 9.48793 1.71917 9.30057C2.51111 8.91321 3.30743 8.61453 4.10813 8.40453C4.90896 8.19467 5.78903 8.08974 6.74834 8.08974C7.70778 8.08974 8.58785 8.19467 9.38854 8.40453C10.1894 8.61453 10.9858 8.91321 11.7777 9.30057C12.1481 9.48793 12.4442 9.75016 12.6658 10.0872C12.8875 10.4243 12.9983 10.8076 12.9983 11.237V11.8237C12.9983 12.1591 12.8752 12.454 12.629 12.7083C12.3827 12.9626 12.0838 13.0897 11.7323 13.0897H1.76438C1.41299 13.0897 1.11417 12.9666 0.867918 12.7204C0.621668 12.474 0.498543 12.1751 0.498543 11.8237V11.237ZM16.2356 13.0897H14.3429C14.4476 12.8985 14.5275 12.6949 14.5825 12.4791C14.6375 12.2633 14.665 12.0448 14.665 11.8237V11.1345C14.665 10.5876 14.5311 10.0663 14.2633 9.57057C13.9954 9.07502 13.6154 8.64981 13.1233 8.29495C13.6821 8.37828 14.2126 8.50724 14.7148 8.68182C15.2169 8.85655 15.696 9.063 16.1523 9.3012C16.5828 9.53092 16.9153 9.80168 17.1498 10.1135C17.3842 10.4252 17.5015 10.7655 17.5015 11.1345V11.8237C17.5015 12.1751 17.3783 12.474 17.1321 12.7204C16.8858 12.9666 16.587 13.0897 16.2356 13.0897ZM6.74834 6.74349C5.94625 6.74349 5.25965 6.45793 4.68854 5.88682C4.11743 5.31557 3.83188 4.62891 3.83188 3.82682C3.83188 3.02474 4.11743 2.33814 4.68854 1.76703C5.25965 1.19578 5.94625 0.910156 6.74834 0.910156C7.55042 0.910156 8.23709 1.19578 8.80834 1.76703C9.37945 2.33814 9.665 3.02474 9.665 3.82682C9.665 4.62891 9.37945 5.31557 8.80834 5.88682C8.23709 6.45793 7.55042 6.74349 6.74834 6.74349ZM13.9438 3.82682C13.9438 4.62891 13.6582 5.31557 13.0871 5.88682C12.516 6.45793 11.8294 6.74349 11.0273 6.74349C10.9333 6.74349 10.8136 6.7328 10.6683 6.71141C10.5229 6.69002 10.4033 6.66654 10.3094 6.64099C10.638 6.24585 10.8906 5.80752 11.0671 5.32599C11.2435 4.84446 11.3317 4.34446 11.3317 3.82599C11.3317 3.30738 11.2417 2.80925 11.0617 2.33161C10.8817 1.85411 10.6309 1.41453 10.3094 1.01286C10.429 0.970087 10.5486 0.942309 10.6683 0.929531C10.7879 0.916614 10.9076 0.910156 11.0273 0.910156C11.8294 0.910156 12.516 1.19578 13.0871 1.76703C13.6582 2.33814 13.9438 3.02474 13.9438 3.82682ZM1.74833 11.8397H11.7483V11.237C11.7483 11.063 11.7048 10.9081 11.6177 10.7724C11.5308 10.6368 11.3927 10.5181 11.2035 10.4166C10.5177 10.063 9.81153 9.79509 9.085 9.61287C8.35847 9.43078 7.57959 9.33974 6.74834 9.33974C5.91722 9.33974 5.1384 9.43078 4.41188 9.61287C3.68535 9.79509 2.97917 10.063 2.29333 10.4166C2.10417 10.5181 1.96604 10.6368 1.87896 10.7724C1.79188 10.9081 1.74833 11.063 1.74833 11.237V11.8397ZM6.74834 5.49349C7.20667 5.49349 7.59903 5.3303 7.92542 5.00391C8.25181 4.67752 8.415 4.28516 8.415 3.82682C8.415 3.36849 8.25181 2.97613 7.92542 2.64974C7.59903 2.32335 7.20667 2.16016 6.74834 2.16016C6.29 2.16016 5.89764 2.32335 5.57125 2.64974C5.24486 2.97613 5.08167 3.36849 5.08167 3.82682C5.08167 4.28516 5.24486 4.67752 5.57125 5.00391C5.89764 5.3303 6.29 5.49349 6.74834 5.49349Z"
          fill="#00DB6C"
        />
      </svg>
    ),
    label: "Users",
    href: "users",
  },
  {
    icon: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M16.9998 5.33203V13.7206C16.9998 14.0928 16.8709 14.4079 16.613 14.6658C16.3551 14.9237 16.04 15.0526 15.6678 15.0526H4.33186C3.95963 15.0526 3.64457 14.9237 3.38668 14.6658C3.12878 14.4079 2.99984 14.0928 2.99984 13.7206V5.33203C2.99984 4.9598 3.12878 4.64474 3.38668 4.38684C3.64457 4.12895 3.95963 4 4.33186 4H15.6678C16.04 4 16.3551 4.12895 16.613 4.38684C16.8709 4.64474 16.9998 4.9598 16.9998 5.33203ZM4.1051 6.87663H15.8946V5.33203C15.8946 5.27529 15.8709 5.22334 15.8237 5.17618C15.7765 5.1289 15.7245 5.10526 15.6678 5.10526H4.33186C4.27513 5.10526 4.22318 5.1289 4.17602 5.17618C4.12874 5.22334 4.1051 5.27529 4.1051 5.33203V6.87663ZM4.1051 9.22863V13.7206C4.1051 13.7773 4.12874 13.8293 4.17602 13.8764C4.22318 13.9237 4.27513 13.9474 4.33186 13.9474H15.6678C15.7245 13.9474 15.7765 13.9237 15.8237 13.8764C15.8709 13.8293 15.8946 13.7773 15.8946 13.7206V9.22863H4.1051Z"
          fill="#9952ED"
        />
      </svg>
    ),
    label: "Transactions",
    href: "transactions",
  },
  {
    icon: (
      <svg
        width="18"
        height="16"
        viewBox="0 0 18 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.2275 15.2913C2.80667 15.2913 2.45042 15.1455 2.15875 14.8538C1.86708 14.5622 1.72125 14.2059 1.72125 13.7849V7.1278C1.38569 6.85224 1.13382 6.49461 0.965625 6.05488C0.797291 5.6153 0.793819 5.14072 0.955208 4.63113L1.79812 1.8778C1.90924 1.52738 2.09778 1.24481 2.36375 1.03009C2.62986 0.815369 2.94771 0.708008 3.31729 0.708008H14.6923C15.062 0.708008 15.3777 0.810578 15.6394 1.01572C15.9012 1.22086 16.0919 1.50294 16.2115 1.86197L17.0704 4.63113C17.2318 5.14072 17.2283 5.6137 17.06 6.05009C16.8918 6.48662 16.6399 6.8512 16.3044 7.14384V13.7849C16.3044 14.2059 16.1585 14.5622 15.8669 14.8538C15.5752 15.1455 15.219 15.2913 14.7981 15.2913H3.2275ZM10.8463 6.54134C11.3014 6.54134 11.6435 6.40217 11.8727 6.12384C12.1019 5.84551 12.1956 5.54662 12.154 5.22717L11.6475 1.95801H9.63771V5.24967C9.63771 5.60009 9.75632 5.90301 9.99354 6.15842C10.2308 6.4137 10.515 6.54134 10.8463 6.54134ZM7.09625 6.54134C7.47972 6.54134 7.79083 6.4137 8.02958 6.15842C8.26847 5.90301 8.38792 5.60009 8.38792 5.24967V1.95801H6.37813L5.87187 5.25926C5.82687 5.55523 5.91979 5.84294 6.15063 6.12238C6.38146 6.40169 6.69667 6.54134 7.09625 6.54134ZM3.38792 6.54134C3.69667 6.54134 3.96215 6.4337 4.18437 6.21842C4.4066 6.00315 4.54389 5.73259 4.59625 5.40676L5.08646 1.95801H3.31729C3.22646 1.95801 3.15437 1.97801 3.10104 2.01801C3.04757 2.05815 3.0075 2.11829 2.98083 2.19842L2.17937 4.90988C2.06937 5.2678 2.12125 5.62919 2.335 5.99405C2.54861 6.35891 2.89958 6.54134 3.38792 6.54134ZM14.6379 6.54134C15.0887 6.54134 15.4338 6.36426 15.6731 6.01009C15.9124 5.65592 15.9701 5.28919 15.8463 4.90988L15.0031 2.18238C14.9765 2.10224 14.9365 2.04481 14.8831 2.01009C14.8297 1.97537 14.7575 1.95801 14.6667 1.95801H12.9392L13.4294 5.40676C13.4817 5.73259 13.619 6.00315 13.8413 6.21842C14.0635 6.4337 14.329 6.54134 14.6379 6.54134ZM3.2275 14.0413H14.7981C14.8728 14.0413 14.9342 14.0173 14.9823 13.9693C15.0305 13.9212 15.0546 13.8597 15.0546 13.7849V7.71759C14.9637 7.75078 14.8878 7.77134 14.8269 7.77926C14.766 7.78731 14.7031 7.79134 14.6379 7.79134C14.2629 7.79134 13.9331 7.72349 13.6483 7.5878C13.3636 7.45211 13.0876 7.23467 12.8204 6.93551C12.5865 7.1962 12.3099 7.40405 11.9904 7.55905C11.671 7.71391 11.3067 7.79134 10.8975 7.79134C10.5439 7.79134 10.2106 7.71787 9.8975 7.57092C9.58444 7.42412 9.28958 7.21231 9.01292 6.93551C8.75542 7.21231 8.46375 7.42412 8.13792 7.57092C7.81194 7.71787 7.48181 7.79134 7.1475 7.79134C6.77139 7.79134 6.41882 7.72322 6.08979 7.58697C5.76076 7.45072 5.47125 7.23356 5.22125 6.93551C4.87069 7.28592 4.54771 7.5162 4.25229 7.62634C3.95701 7.73634 3.66889 7.79134 3.38792 7.79134C3.32264 7.79134 3.25528 7.78731 3.18583 7.77926C3.11639 7.77134 3.04479 7.75078 2.97104 7.71759V13.7849C2.97104 13.8597 2.99514 13.9212 3.04333 13.9693C3.09139 14.0173 3.15278 14.0413 3.2275 14.0413Z"
          fill="#E76AC2"
        />
      </svg>
    ),
    label: "Businesses",
    href: "businesses",
  },
  {
    icon: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4.21648 17C3.8228 17 3.48648 16.8606 3.20753 16.5818C2.92872 16.3028 2.78931 15.9665 2.78931 15.5728V6.7323C2.5576 6.61283 2.36806 6.44303 2.22069 6.2229C2.07345 6.00276 1.99984 5.74895 1.99984 5.46145V3.42717C1.99984 3.03349 2.13924 2.69717 2.41806 2.41822C2.69701 2.13941 3.03332 2 3.42701 2H15.5727C15.9663 2 16.3027 2.13941 16.5816 2.41822C16.8604 2.69717 16.9998 3.03349 16.9998 3.42717V5.46145C16.9998 5.74895 16.9262 6.00276 16.779 6.2229C16.6316 6.44303 16.4421 6.61283 16.2104 6.7323V15.5728C16.2104 15.9665 16.071 16.3028 15.7921 16.5818C15.5132 16.8606 15.1769 17 14.7832 17H4.21648ZM3.97352 6.88862V15.5349C3.97352 15.6159 4.0026 15.6829 4.06076 15.7361C4.11905 15.7892 4.19122 15.8158 4.27727 15.8158H14.7832C14.8541 15.8158 14.9123 15.793 14.9579 15.7475C15.0034 15.702 15.0262 15.6437 15.0262 15.5728V6.88862H3.97352ZM3.42701 5.70441H15.5727C15.6436 5.70441 15.7018 5.68164 15.7473 5.63612C15.7929 5.59059 15.8156 5.53237 15.8156 5.46145V3.42717C15.8156 3.35625 15.7929 3.29803 15.7473 3.2525C15.7018 3.20697 15.6436 3.18421 15.5727 3.18421H3.42701C3.35609 3.18421 3.29786 3.20697 3.25234 3.2525C3.20681 3.29803 3.18405 3.35625 3.18405 3.42717V5.46145C3.18405 5.53237 3.20681 5.59059 3.25234 5.63612C3.29786 5.68164 3.35609 5.70441 3.42701 5.70441ZM7.8526 10.6311H11.1548C11.3177 10.6311 11.452 10.577 11.5578 10.4687C11.6636 10.3603 11.7165 10.2246 11.7165 10.0617C11.7165 9.89882 11.6636 9.76447 11.5578 9.65868C11.452 9.55289 11.3177 9.5 11.1548 9.5H7.8449C7.68201 9.5 7.54767 9.55289 7.44188 9.65868C7.33609 9.76447 7.28319 9.89882 7.28319 10.0617C7.28319 10.2246 7.33734 10.3603 7.44563 10.4687C7.55392 10.577 7.68957 10.6311 7.8526 10.6311Z"
          fill="#0D8BFA"
        />
      </svg>
    ),
    label: "Products",
    href: "products",
  },
  {
    icon: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.07687 17.9163C8.79271 17.9163 8.54729 17.822 8.34062 17.6334C8.13382 17.445 8.00799 17.2129 7.96312 16.9372L7.75958 15.3778C7.53639 15.3031 7.3075 15.1984 7.07292 15.0638C6.83847 14.9291 6.62882 14.7849 6.44396 14.6311L5 15.2449C4.73819 15.3603 4.47514 15.3715 4.21083 15.2784C3.94639 15.1855 3.74097 15.0168 3.59458 14.7722L2.65542 13.1438C2.50903 12.8993 2.46687 12.6404 2.52896 12.3674C2.5909 12.0945 2.73299 11.8693 2.95521 11.692L4.20354 10.7545C4.18437 10.6306 4.17076 10.5061 4.16271 10.3811C4.15465 10.2561 4.15062 10.1316 4.15062 10.0076C4.15062 9.88912 4.15465 9.7687 4.16271 9.64634C4.17076 9.52398 4.18437 9.39016 4.20354 9.24488L2.95521 8.30738C2.73299 8.13002 2.59222 7.90349 2.53292 7.6278C2.47361 7.35224 2.51715 7.0921 2.66354 6.84738L3.59458 5.24322C3.74097 5.00391 3.94639 4.83648 4.21083 4.74092C4.47514 4.64523 4.73819 4.65509 5 4.77051L6.43583 5.37634C6.63681 5.21717 6.85132 5.07162 7.07937 4.93967C7.30743 4.80773 7.53153 4.70169 7.75167 4.62155L7.96312 3.06217C8.00799 2.78648 8.13382 2.5544 8.34062 2.36592C8.54729 2.17731 8.79271 2.08301 9.07687 2.08301H10.9231C11.2073 2.08301 11.4527 2.17731 11.6594 2.36592C11.8662 2.5544 11.992 2.78648 12.0369 3.06217L12.2404 4.62947C12.4904 4.7203 12.7166 4.82634 12.919 4.94759C13.1215 5.06884 13.3258 5.21176 13.5321 5.37634L15.0081 4.77051C15.2698 4.65509 15.5328 4.64523 15.7973 4.74092C16.0617 4.83648 16.2671 5.00391 16.4133 5.24322L17.3446 6.85551C17.491 7.10009 17.5331 7.35891 17.471 7.63197C17.4091 7.90488 17.267 8.13002 17.0448 8.30738L15.7644 9.26884C15.7942 9.40342 15.8106 9.52926 15.8133 9.64634C15.816 9.76329 15.8173 9.88106 15.8173 9.99967C15.8173 10.1129 15.8146 10.228 15.8092 10.3451C15.8039 10.462 15.7847 10.5959 15.7517 10.7465L17.0079 11.692C17.2301 11.8693 17.3736 12.0945 17.4383 12.3674C17.5029 12.6404 17.462 12.8993 17.3156 13.1438L16.3717 14.764C16.2254 15.0088 16.0187 15.1776 15.7517 15.2705C15.4846 15.3634 15.2201 15.3522 14.9583 15.2368L13.5321 14.623C13.3258 14.7876 13.1153 14.9331 12.9006 15.0597C12.6859 15.1863 12.4658 15.2897 12.2404 15.3699L12.0369 16.9372C11.992 17.2129 11.8662 17.445 11.6594 17.6334C11.4527 17.822 11.2073 17.9163 10.9231 17.9163H9.07687ZM9.16667 16.6663H10.8046L11.1042 14.434C11.5294 14.3229 11.9181 14.1651 12.27 13.9605C12.6221 13.7558 12.9616 13.4927 13.2885 13.1711L15.359 14.0413L16.1796 12.6247L14.3719 11.2626C14.4413 11.0468 14.4885 10.8352 14.5135 10.6278C14.5387 10.4206 14.5512 10.2112 14.5512 9.99967C14.5512 9.78273 14.5387 9.57335 14.5135 9.37155C14.4885 9.1696 14.4413 8.96336 14.3719 8.7528L16.1954 7.37467L15.375 5.95801L13.2804 6.84092C13.0015 6.54287 12.6674 6.27954 12.2781 6.05092C11.8887 5.82231 11.4947 5.66044 11.0962 5.5653L10.8333 3.33301H9.17958L8.90375 5.55738C8.47861 5.6578 8.08604 5.81162 7.72604 6.01884C7.3659 6.2262 7.02236 6.49329 6.69542 6.82009L4.625 5.95801L3.80458 7.37467L5.60417 8.71592C5.53472 8.9137 5.48611 9.1194 5.45833 9.33301C5.43055 9.54662 5.41667 9.77148 5.41667 10.0076C5.41667 10.2245 5.43055 10.4372 5.45833 10.6455C5.48611 10.8538 5.53208 11.0595 5.59625 11.2626L3.80458 12.6247L4.625 14.0413L6.6875 13.1663C7.00375 13.4911 7.34187 13.7571 7.70187 13.9645C8.06201 14.1717 8.46 14.3309 8.89583 14.442L9.16667 16.6663ZM10.0096 12.4997C10.7029 12.4997 11.2929 12.2563 11.7796 11.7697C12.2662 11.283 12.5096 10.693 12.5096 9.99967C12.5096 9.30634 12.2662 8.71634 11.7796 8.22967C11.2929 7.74301 10.7029 7.49967 10.0096 7.49967C9.30764 7.49967 8.71549 7.74301 8.23312 8.22967C7.75076 8.71634 7.50958 9.30634 7.50958 9.99967C7.50958 10.693 7.75076 11.283 8.23312 11.7697C8.71549 12.2563 9.30764 12.4997 10.0096 12.4997Z"
          fill="#EDF50E"
          fill-opacity="0.65"
        />
      </svg>
    ),
    label: "Settings",
    href: "settings",
  },
];

export function Dashboard() {
  const pathname = useLocation().pathname;
  const navigate = useNavigate();
  return (
    <ShadcnSidebar className="font-inter">
      <SidebarHeader className=" mt-6">
        <Button
          variant="ghost"
          className="w-full hover:bg-transparent justify-start"
        >
          <img className="h-[32px] w-auto" src={logo} />
        </Button>
      </SidebarHeader>
      <SidebarContent className="">
        <SidebarMenu className="flex mt-12 flex-col ">
          {menuItems.map((item) => (
            <SidebarMenuItem key={item.href}>
              <div className="relative">
                <div
                  className={cn(
                    "absolute h-[50px] w-[90%] left-2 rounded-lg bg-gradient-to-r from-[#2B3446] to-[#36353D] transition-transform duration-300",
                    pathname.includes(item.href) ? "opacity-100" : "opacity-0"
                  )}
                  style={{
                    transform: `translateY(calc(${menuItems.findIndex((i) =>
                      pathname.includes(i.href)
                    )} * var(--menu-item-height)))`,
                  }}
                />
                <SidebarMenuButton asChild>
                  <Link
                    to={`${item.href}`}
                    className={cn(
                      "relative flex items-start hover:text-white font-normal gap-4 justify-start px-6 w-full h-[50px] text-gray-200",
                      pathname.includes(item.href) && "text-white font-medium"
                    )}
                  >
                    {item.icon}
                    <p className="text-base">{item.label}</p>
                  </Link>
                </SidebarMenuButton>
              </div>
            </SidebarMenuItem>
          ))}
        </SidebarMenu>
      </SidebarContent>
      <SidebarFooter>
        <SidebarMenu className="text-white">
          <SidebarMenuItem>
            <Button
              onClick={() => {
                document.cookie =
                  "token=; max-age=0; path=/; Secure; SameSite=Strict";
                navigate("/login");
              }}
              className="w-full bg-transparent text-white hover:bg-white/10 justify-start"
            >
              <LogOut />
              Logout
            </Button>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarFooter>
    </ShadcnSidebar>
  );
}
